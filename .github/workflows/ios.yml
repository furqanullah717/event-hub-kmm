name: iOS starter workflow
env:
  XCODE_VERSION: '13.4.1'
  JAVA_VERSION: '14'
on: [push]


jobs:
  build:
    name: Build and Test default scheme using any available iPhone simulator
    runs-on: macos-latest

    steps:
    - uses: actions/setup-java@v1
      with:
        java-version: ${{ env.JAVA_VERSION }}

    - uses: maxim-lobanov/setup-xcode@v1
      with:
        xcode-version: ${{ env.XCODE_VERSION }}
    - name: Build Artifacts
      uses: gradle/gradle-build-action@v2
      with:
        build-root-directory: shared
        arguments: build createSwiftPackage